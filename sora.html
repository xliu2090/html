<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#111111" />
  <title>Sora Mobile (OpenAI /v1/videos) - Custom Model</title>
  <style>
    :root { color-scheme: light dark; }
    body { margin:0; font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,PingFang SC,"Helvetica Neue",Arial; }
    .wrap{ max-width:980px; margin:0 auto; padding:16px; }
    h1{ font-size:18px; margin:0 0 10px; }
    .note{ font-size:13px; opacity:.85; line-height:1.45; }
    .grid{ display:grid; grid-template-columns:1fr; gap:12px; margin-top:12px; }
    @media (min-width: 860px){ .grid{ grid-template-columns:1fr 1fr; } }
    .card{ border:1px solid rgba(127,127,127,.35); border-radius:14px; padding:12px; background:rgba(127,127,127,.06); }
    label{ display:block; font-size:13px; margin:10px 0 6px; opacity:.9; }
    input, textarea{
      width:100%; box-sizing:border-box; border:1px solid rgba(127,127,127,.35);
      border-radius:10px; padding:10px; font-size:14px; background:transparent;
    }
    textarea{ min-height:92px; resize:vertical; }
    .row{ display:grid; grid-template-columns:1fr 1fr; gap:10px; }
    .btns{ display:flex; flex-wrap:wrap; gap:10px; margin-top:12px; }
    button{
      border:1px solid rgba(127,127,127,.35); background:rgba(127,127,127,.10);
      padding:10px 12px; border-radius:12px; font-size:14px; cursor:pointer;
    }
    button.primary{ background:#2563eb; border-color:#2563eb; color:#fff; }
    button.danger{ background:rgba(239,68,68,.12); border-color:rgba(239,68,68,.5); }
    button:disabled{ opacity:.6; cursor:not-allowed; }
    .pill{ display:inline-flex; align-items:center; gap:8px; font-size:12px; padding:6px 10px; border-radius:999px; border:1px solid rgba(127,127,127,.35); }
    .log{ white-space:pre-wrap; font-family:ui-monospace,Menlo,Consolas,monospace; font-size:12px; line-height:1.35;
      padding:10px; border-radius:12px; border:1px dashed rgba(127,127,127,.35); max-height:240px; overflow:auto; }
    .tasks{ display:grid; gap:10px; margin-top:10px; }
    .task{ border:1px solid rgba(127,127,127,.35); border-radius:14px; padding:10px; background:rgba(127,127,127,.05); }
    .taskHead{ display:flex; justify-content:space-between; gap:10px; align-items:flex-start; }
    .mono{ font-family:ui-monospace,Menlo,Consolas,monospace; font-size:12px; word-break:break-all; }
    .meta{ font-size:12px; opacity:.85; margin-top:4px; }
    .taskBtns{ display:flex; flex-wrap:wrap; gap:8px; margin-top:10px; }
    video{ width:100%; border-radius:12px; margin-top:10px; background:#000; }
    .small{ font-size:12px; opacity:.8; }
    .inline{ display:inline-flex; align-items:center; gap:8px; flex-wrap:wrap; }
    .hr{ height:1px; background:rgba(127,127,127,.25); margin:10px 0; }
    .warn{ color: #f59e0b; }
    .ok{ color: #22c55e; }
  </style>
</head>
<body>
<div class="wrap">
  <h1>OpenAI Sora（/v1/videos）手机端 Demo（支持自定义模型）</h1>
  <div class="note">
    ✅ 创建成功拿到 <code>video_id</code> 后，任务在服务端继续生成：切后台/刷新不会中断服务端生成；回来继续轮询即可。<br>
    ⚠️ 生产环境请别把 Key 放前端：不要在浏览器/APP 暴露 API Key。<br>
    ℹ️ 官方 <code>size</code> 是字符串 <code>widthxheight</code>，例如竖屏 <code>720x1280</code>。2
  </div>

  <div class="grid">
    <div class="card">
      <div class="inline" style="justify-content:space-between;">
        <div class="pill" id="pollPill">轮询：未启动</div>
        <div class="pill" id="netPill">网络：--</div>
      </div>

      <label>Base URL（直连 OpenAI / 或填你的代理域名）</label>
      <input id="baseUrl" type="text" value="https://api.openai.com" />

      <label>OpenAI API Key（Bearer）</label>
      <input id="apiKey" type="password" placeholder="sk-..." />
      <div class="inline" style="margin-top:8px;">
        <label class="small"><input id="rememberKey" type="checkbox" /> 记住 Key（localStorage，慎用）</label>
        <button id="btnNotif" type="button">开启完成通知</button>
      </div>

      <div class="hr"></div>

      <label>Model（可手动输入）</label>
      <input id="model" list="modelList" type="text" value="sora-2" placeholder="例如：sora-2 / sora-2-pro / 你的代理自定义模型名" />
      <datalist id="modelList">
        <option value="sora-2"></option>
        <option value="sora-2-pro"></option>
      </datalist>
      <div class="small" id="modelHint"></div>

      <label>Prompt</label>
      <textarea id="prompt" placeholder="例如：一只三花猫在舞台上弹钢琴，聚光灯，电影感"></textarea>

      <div class="row">
        <div>
          <label>Seconds（4/8/12）</label>
          <input id="seconds" type="text" value="8" placeholder="4 或 8 或 12" />
        </div>
        <div>
          <label>Size（例如：竖屏 720x1280）</label>
          <input id="size" list="sizeList" type="text" value="720x1280" placeholder="720x1280 / 1280x720 / 1024x1792 / 1792x1024" />
          <datalist id="sizeList"></datalist>
          <div class="small" id="sizeHint"></div>
        </div>
      </div>

      <div class="inline" style="margin-top:8
